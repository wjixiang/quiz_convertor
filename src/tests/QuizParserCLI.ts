import { QuizParser } from '../QuizParser';
import * as readline from 'readline';

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

// Sample test data
const TEST_QUESTIONS = `1.下列属于正反馈调节的是 A.血糖浓度的调节 B.排尿反射
C.体温调节
D.减压反射
2.机体内环境稳态是指 A.细胞外液理化因素保持不变 B.细胞内液理化因素保持不变 C.细胞外液理化性质在一定范围内波动 D.细胞内液理化性质在一定范围内波动
3.内分泌细胞分泌激素到组织液的过程属于以下哪种 A.出胞
B.主动转运
C.易化扩散
D.入胞
4.神经细胞在产生动作电位时，去极相的变化趋向于 A.K+的平衡电位
B.Na+与 Cl-的平衡电位
C.Na+的平衡电位
D.K+与 Cl-的平衡电位
5.对骨骼肌兴奋-收缩耦联过程的叙述，正确的是 A.电兴奋通过纵管传向肌细胞深部 B.纵管膜产生动作电位
C.胞质内Ca2+ 与肌钙蛋白结合触发肌肉收缩 D.终末池中的Ca2+ 逆浓度差进入肌浆
6.红细胞血管外破坏的主要场所是 A.肾、脾
B.脾、肝
C.肾、肝
D.胸腺、肝
7.下面关于抗凝血酶的描述，哪一项是错误的 A.是人体内最重要的抗凝物质，负责灭活 60%~70%的凝血酶 B.生成于肝脏及血管内皮细胞
25YKB 生理单科模考(7.19) 万川医考 研小岛整理 C.可水解灭活 FVIIIa 和 FV
D.其抗凝活性与肝素密切相关
8.关于输血原则，以下错误的是
A.紧急情况下 O 型血可少量缓慢接受其他型血液 B.紧急情况下 A 型血可少量缓慢输入给 AB 型血液 C.输同型血经交叉配血试验主、次侧均不凝集为首选 D.必须保证 ABO 血型相合
9.在心动周期中，心室内压力上升最快的是在 A.快速射血期
B.快速充盈期
C.减慢射血期
D.等容收缩期
10.心室肌细胞电位各时期跨膜电位变化不包括 A.1 期复极
B.2 期平台期
C.3 期复极
D.4 期自动除极
11.关于动脉血压的叙述，下列哪项是错误的 A.动脉血压一般指主动脉压 B.大动脉管壁的顺应性越小，则动脉血压越高 C.心室舒张时，主动脉压在心舒张末期达最低值 D.心室收缩时，主动脉压在收缩中期达最高值
12.微循环具有营养功能的通路是 A.直捷通路
B.动-静脉短路
C.迂回通路
D.淋巴回路
13.呼吸频率加倍，潮气量减半时，将使 A.每分通气量增加
B.每分通气量减少
C.肺泡通气量增加
D.肺泡通气量减少
14.可导致氧解离曲线左移的因素是 A.pH 值增大
B.PCO2 升高
C.糖酵解增强
D.温度升高
 
25YKB 生理单科模考(7.19) 万川医考 研小岛整理
 15.动脉血PCO2 在40~60mmHg范围内升高时，呼吸运动的改变是 A.幅度变深，频率变快
B.幅度变浅，频率变快
C.幅度变深，频率变慢
D.幅度变浅，频率变慢
16.胃容受性舒张是通过下列哪一途径实现的 A.迷走神经末梢释放的 ACh B.迷走神经末梢释放的血管活性肠肽 C.壁内神经丛
D.抑胃肽的释放
17.关于正常人胰液的叙述，哪项是错误的 A.胰液为碱性液体，pH 约 7.8~8.4 B.与其它消化液相比，胰液的消化力最强 C.胰液中 Na+、K+的浓度，随分泌速率不同而改变 D.人每日分泌胰液量约 1~2L
18.关于糖在小肠被吸收的叙述，正确的是 A.果糖的吸收速度比半乳糖慢 B.大部分单糖的吸收是顺浓度差进行的 C.单糖的吸收都与 Na+同向转运 D.果糖的吸收速度比葡萄糖快
19.关于基础代谢率，下列哪一项是正确的 A.12 岁的小儿的基础代谢率比 10 岁小儿高 B.女性的基础代谢率比男性高 C.体温每升高 1 度，基础代谢率增高 7% D.Addison 病时，基础代谢率降低
20.不能寒战产热的年龄段为 A.幼儿
B.新生儿
C.老年人
D.儿童
21.根据球-管平衡，近端小管的重吸收率约为肾小球滤过率的 A.1/5
B.1/3
C.1/2
D.2/3
22.调控醛固酮的合成与分泌，下列哪项最不重要 A.血管紧张素II

25YKB 生理单科模考(7.19) 万川医考
研小岛整理
 B.血 Na+ C.血 K+ D.ACTH
23.排尿反射的初级中枢在 A.下丘脑
B.脊髓骶段
C.脊髓腰段
D.延髓
24.某物质经滤过后，又全部被肾小管重吸收，其 A.血浆清除率等于零 B.血浆清除率等于肾小球滤过率 C.血浆清除率等于每分钟肾的血浆流量 D.血浆清除率大于 125ml/min
25.声音传入内耳的主要途径是 A.骨传导 B.外耳-鼓膜-听骨链-卵圆窗-内耳 C.外耳-鼓膜-鼓室空气-圆窗-内耳 D.外耳-鼓膜-听骨链-圆窗-内耳
26.晕船是由于下列哪一部位的感受器受到过度刺激所引起 A.上、后半规管
B.上、外半规管
C.外、后半规管
D.椭圆囊
27.关于感受器适应现象的叙述，错误的是 A.适应是所有感受器的特征之一 B.有快适应和慢适应感受器 C.颈动脉窦压力感受器是快适应感受器 D.刺激仍在持续，但传入冲动频率下降
28.瞳孔缩小时，通常使折光系统的 A.球面像差和色像差都增大 B.球面像差和色像差都减小 C.球面像差增大，色像差减小 D.球面像差减小，色像差增大
29.神经细胞兴奋时，首先产生扩布性动作电位的部位是 A.树突
B.胞体
C.轴突

25YKB 生理单科模考(7.19) 万川医考 D.轴突始段
30.下列关于肌紧张的描述，正确的是 A.由快速牵拉肌腱而引起 B.感受器是肌梭 C.人类以屈肌肌紧张为主要表现 D.为单突触反射
31.感觉的特异投射系统能引起特定感觉的主要原因是 A.与大脑皮层有点对点的投射关系 B.发自丘脑特异感觉接替核 C.投射纤维主要终止于皮层的第四层 D.中间不换元，直接投射到大脑皮层
32.去甲肾上腺素作用于受体产生效应后被消除的主要方式是 A.酶促降解
B.末梢重摄取
C.进入突触后细胞
D.被神经胶质细胞摄取
33.机体受刺激而发生应激反应的系统是 A.交感-肾上腺髓质系统 B.下丘脑-神经垂体系统 C.下丘脑-腺垂体-甲状腺轴 D.下丘脑-腺垂体-肾上腺皮质轴
34.甲状腺激素能降低下列哪项 A.糖酵解
B.糖异生
C.血浆胆固醇水平 D.血浆游离脂肪酸浓度
35.关于胰岛素的作用机制，下列说法哪项是错误的 A.促进葡萄糖转运进入肝细胞 B.加速糖原合成，抑制糖原分解 C.加快糖的有氧氧化 D.抑制肝内糖异生，增加脂肪动员
36.肾上腺糖皮质激素对血细胞的作用是 A.淋巴细胞数目增加 B.中性粒细胞数量减少 C.血小板数目增多
D.红细胞数量降低
研小岛整理
 
25YKB 生理单科模考(7.19) 万川医考
研小岛整理
 37.睾丸间质细胞的功能为 A.分泌雄激素 B.分泌抑制素 C.支持生精细胞 D.营养生精细胞
38.月经周期中，雌激素分泌出现第二个高峰的直接原因是 A.雌激素的正反馈作用
B.孕酮的正反馈作用
C.雌激素的负反馈作用减弱
D.黄体生成素分泌增加的作用
二、B 型题 39.cAMP 的作用是 A.激活 PKA B.激活 PLC C.激活 PLA D.激活 PKC
40.二酰甘油的作用是 A.激活 PKA
B.激活 PLC
C.激活 PLA
D.激活 PKC
41.以下可抑制下丘脑血管升压素释放，调节机体血容量的心血管反射是 A.颈动脉体和主动脉体化学感受性反射
B.脑缺血反应
C.躯体感受器引起的心血管反射
D.心肺感受器引起的心血管反射
42.以下主要调节呼吸运动而间接改变心血管活动的心血管反射是 A.颈动脉体和主动脉体化学感受性反射
B.脑缺血反应
C.躯体感受器引起的心血管反射
D.心肺感受器引起的心血管反射
43.能正反馈激活自身分泌的胃液成分是 A.内因子
B.碳酸氢盐
C.盐酸
D.胃蛋白酶 44.能促进促胰液素分泌的胃液成分是

25YKB 生理单科模考(7.19) 万川医考 研小岛整理
 A.内因子 B.碳酸氢盐 C.盐酸 D.胃蛋白酶
45.肾小球滤液中的氨基酸被重吸收的部位是 A.近曲小管
B.髓袢降支细段
C.髓袢升支粗段
D.集合管
46.肾小管液中的氯化钠被显著浓缩的部位是 A.近曲小管
B.髓袢降支细段
C.髓袢升支粗段
D.集合管
47.正常成年人在困倦时的脑电波一般为 A.α波
B.β波
C.δ波
D.θ波
48.正常成年人睡眠状态下一般出现 A.α波
B.β波
C.δ波
D.θ波
三、X 型题 49.肌肉收缩能力提高后，可表现为 A.张力-速度曲线右上移 B.长度-张力曲线上移 C.后负荷增加
D.前负荷增加
50.能诱导血小板聚集的物质有 A.凝血酶
B.胶原
C.TXA2
D.ADP
51.小血管损伤后，生理止血过程可包括 A.受损小血管收缩

25YKB 生理单科模考(7.19) 万川医考
研小岛整理
 B.血小板聚集形成止血栓 C.受损局部血液凝固形成血凝块 D.血管壁修复、伤口愈合
52.以下哪些可使组织液生成减少 A.毛细血管血压降低 B.血浆胶体渗透压升高 C.组织液静水压升高 D.组织液胶体渗透压升高
53.肺表面活性物质的作用有 A.防止肺水肿 B.降低吸气阻力 C.降低呼气阻力 D.维持大小肺泡的稳定性
54.肺总量为
A.深吸气量+补吸气量 B.深吸气量+功能残气量 C.潮气量+补吸气量+补呼气量+残气量 D.肺活量+残气量
55.小肠的运动形式有 A.分节运动
B.蠕动
C.蠕动冲 D.紧张性收缩
56.影响能量代谢的因素有 A.肌肉活动
B.精神活动 C.食物的特殊动力作用 D.环境温度
57.肾分泌的生物活性物质有 A.肾素
B.1,25-(OH)2 D3 C.肾上腺素 D.促红细胞生成素
58.关于视锥细胞的叙述，正确的是 A.主要分布于中央凹 B.能分辨各种颜色 C.视锥系统又称昼光觉系统

25YKB 生理单科模考(7.19) 万川医考 研小岛整理 D.对光的敏感性较高
59.与副交感神经相比，交感神经的特点是 A.起源相对集中，分布广泛 B.节前与节后纤维联系辐散程度较大 C.安静情况下，紧张性活动较强 D.节前纤维长，节后纤维短
60.抑制性突触后电位产生的机制是 A.后膜去极化
B.突触后膜对 Cl-通透性增加 C.递质与突触后膜受体结合 D.突触前膜释放抑制性递质
61.问1,25-(OH)2 D3 对钙代谢调节的基本作用是 A.动员骨钙入血
B.促进钙盐在骨的沉积
C.促进肾脏重吸收钙
D.抑制小肠吸收钙
62.胎盘可以分泌的激素有 A.雌激素
B.孕激素 C.人绒毛膜促性腺激素 D.促卵泡素`;

const TEST_ANSWERS = `1-5BCACC
6-10BCADD
11-15BCDAA
16-20BCADB
21-25DDBAB
26-30ACBDB
31-35ABDCD
36-40CADAD
41-45DADCA
46-48BDC
49-50AB ABCD
51-55ABC ABC ABD BCD ABCD 56-60ABCD ABD ABC AB BCD 61-62ABC ABC`;

async function runTest() {
  console.log('Running QuizParser CLI test...');
  
  const parser = new QuizParser(TEST_QUESTIONS, TEST_ANSWERS);
  
  try {
    const result = await parser.parse({
      class: '生理学',
      unit: 'none',
      source: '医考帮模考t1'
    });
    
    console.log('Parsed quiz data:');
    console.log(JSON.stringify(result, null, 2));

    for await (const element of result) {
      await parser.sendQuizToServer(element)
    }
  } catch (error) {
    console.error('Error parsing quiz:', error);
  } finally {
    rl.close();
  }
}

runTest();